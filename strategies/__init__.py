# strategies/__init__.py

# üìÇ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π üìÇ
#
# –≠—Ç–æ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ñ–∞–π–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "–∞–≤—Ç–æ-–æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ–ª—å". –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É 'strategies',
# –Ω–∞—Ö–æ–¥–∏—Ç –≤ –Ω–µ–π –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –∏ –¥–µ–ª–∞–µ—Ç –∏—Ö –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤ –≥–ª–∞–≤–Ω–æ–º
# —Å–∫—Ä–∏–ø—Ç–µ main.py. –ë–ª–∞–≥–æ–¥–∞—Ä—è –µ–º—É, –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å
# —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ.
#
# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
# - –°–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É 'strategies' –Ω–∞ –Ω–∞–ª–∏—á–∏–µ Python-—Ñ–∞–π–ª–æ–≤.
# - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã ('__init__.py', 'base_strategy.py').
# - –ù–∞—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–ª–∞—Å—Å —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.
# - –°–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.
# - –í—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞–∑–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.
# - –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º—É, –Ω–µ –º–µ–Ω—è—è –∫–æ–¥ –≤ main.py.
#
# –ê–≤—Ç–æ—Ä: –ú–∏—Ö–∞–∏–ª –®–∞—Ä–¥–∏–Ω https://shardin.name/
# –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 10.08.2025
# –í–µ—Ä—Å–∏—è: 1.0
# –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–≥–¥–∞ –∑–¥–µ—Å—å: https://github.com/empenoso/backtrader-quickstart-template/
#
# –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–µ —Ñ–∞–π–ª –≤ —ç—Ç—É –ø–∞–ø–∫—É.
#

import os
import importlib
import inspect
from .base_strategy import BaseStrategy

# –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π: {'–ò–º—è–ö–ª–∞—Å—Å–∞': –ö–ª–∞—Å—Å}
available_strategies = {}

# –ü—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–ø–∞–ø–∫–µ strategies)
package_dir = os.path.dirname(__file__)

for filename in os.listdir(package_dir):
    if filename.endswith('.py') and filename not in ['__init__.py', 'base_strategy.py']:
        module_name = f"strategies.{filename[:-3]}"
        
        try:
            module = importlib.import_module(module_name)
            
            # –ò—â–µ–º –≤ –º–æ–¥—É–ª–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ BaseStrategy
            for name, obj in inspect.getmembers(module, inspect.isclass):
                if issubclass(obj, BaseStrategy) and obj is not BaseStrategy:
                    available_strategies[name] = obj
                    print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: '{name}' –∏–∑ –º–æ–¥—É–ª—è '{module_name}'")

        except ImportError as e:
            print(f"–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª—è {module_name}: {e}")

if not available_strategies:
    print("–í–Ω–∏–º–∞–Ω–∏–µ: –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –ø–∞–ø–∫–µ 'strategies'.")